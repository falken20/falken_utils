{% extends 'base.html' %}

{% block content %}

{% load static %}

<div class="container" style="margin-top:20px;">

    <form action="/house/add_city/" method="POST"> {% csrf_token %}

      <div class="form-group">
        <label for="city_name">City</label>
        <input type="text" class="form-control" id="city_name" name="city_name" required>
      </div>

      <div class="form-group">
        <label for="country_id">Country</label>
        <select id="country_id" name="country_id" class="form-control" required>
            <option value="" selected></option>

          {% for element in countries %}
            <option value={{ element.id }}>{{ element.country_name }}</option>
          {% endfor %}

        </select>
      </div>

      <div class="form-group">
        <label for="weather_url">Weather URL</label>
        <input type="url" class="form-control" id="weather_url" name="weather_url">
      </div>

      <button type="submit" class="btn btn-primary">Save</button>

    </form>

    <label style="color: green; margin-top:20px">{{ message }} </label>

    <div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>City</th>
                    <th>Country</th>
                    <th>Weather url</th>
                </tr>
            </thead>
            <tbody>
            {% for element in cities %}

                <tr style="font-size:smaller;">
                    <td> {{ element.city_name }} </td>
                    <td> {{ element.country_name }} </td>
                    <td> {{ element.weather_url }} </td>
                </tr>

            {% endfor %}
            </tbody>
        </table>
    </div>

</div>

{% endblock content %}